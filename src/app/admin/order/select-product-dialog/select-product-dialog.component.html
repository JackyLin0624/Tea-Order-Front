<h2 mat-dialog-title>選擇產品</h2>

<mat-dialog-content class="dialog-content">
  @if(isLoading){
  <div class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
  </div>
  }
  @else {
  <ng-container>
    @for(category of groupedProducts | keyvalue; track category.key) {
    <h3 class="category-title">{{ category.key }}</h3>
    <div class="product-grid">
      @for(product of category.value; track product.id) {
      <mat-card class="product-card" (click)="openProductDialog(product)">
        <mat-card-header>
          <mat-card-title>{{ product.name }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>{{ product.description }}</p>
        </mat-card-content>
      </mat-card>
      }
    </div>
    }
  </ng-container>
  }
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="closeDialog()" [disabled]="isLoading">取消</button>
</mat-dialog-actions>
